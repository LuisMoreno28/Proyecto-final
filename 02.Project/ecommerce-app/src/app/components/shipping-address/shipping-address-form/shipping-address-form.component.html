<div class="bg-white shadow rounded-lg p-6">
  <h2 class="text-xl font-semibold mb-4">Dirección de Envío</h2>

  <form [formGroup]="addressForm" (ngSubmit)="onSubmit()" class="space-y-4">
    
    <!-- Nombre -->
    <app-form-field
      label="Nombre Completo"
      fieldId="name"
      type="text"
      placeholder="Juan Pérez"
      [required]="true"
      [errorMessage]="getFieldError('name')"
      formControlName="name">
    </app-form-field>

    <!-- Dirección -->
    <app-form-field
      label="Dirección"
      fieldId="address"
      type="text"
      placeholder="Calle 123, Colonia Centro"
      [required]="true"
      [errorMessage]="getFieldError('address')"
      formControlName="address">
    </app-form-field>

    <!-- Ciudad -->
    <app-form-field
      label="Ciudad"
      fieldId="city"
      type="text"
      placeholder="Ciudad de México"
      [required]="true"
      [errorMessage]="getFieldError('city')"
      formControlName="city">
    </app-form-field>

    <!-- Estado -->
    <app-form-field
      label="Estado"
      fieldId="state"
      type="text"
      placeholder="CDMX"
      [required]="true"
      [errorMessage]="getFieldError('state')"
      formControlName="state">
    </app-form-field>

    <!-- Código Postal -->
    <app-form-field
      label="Código Postal"
      fieldId="postalCode"
      type="text"
      placeholder="12345"
      [required]="true"
      [errorMessage]="getFieldError('postalCode')"
      formControlName="postalCode">
    </app-form-field>

    <!-- País -->
    <app-form-field
      label="País"
      fieldId="country"
      type="text"
      placeholder="México"
      [required]="true"
      [errorMessage]="getFieldError('country')"
      formControlName="country">
    </app-form-field>

    <!-- Teléfono -->
    <app-form-field
      label="Teléfono"
      fieldId="phone"
      type="text"
      placeholder="55 1234 5678"
      [required]="true"
      [errorMessage]="getFieldError('phone')"
      formControlName="phone">
    </app-form-field>

    <!-- Tipo de dirección -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">Tipo de Dirección *</label>

      <div class="grid grid-cols-1 sm:grid-cols-3 gap-2">

        <label class="flex items-center gap-2 cursor-pointer p-2 border rounded hover:bg-gray-50">
          <input type="radio" formControlName="addressType" value="home" />
          Casa
        </label>

        <label class="flex items-center gap-2 cursor-pointer p-2 border rounded hover:bg-gray-50">
          <input type="radio" formControlName="addressType" value="work" />
          Trabajo
        </label>

        <label class="flex items-center gap-2 cursor-pointer p-2 border rounded hover:bg-gray-50">
          <input type="radio" formControlName="addressType" value="other" />
          Otro
        </label>
      </div>

      @if (getFieldError('addressType')) {
        <p class="mt-1 text-sm text-red-600">{{ getFieldError('addressType') }}</p>
      }
    </div>

    <!-- Dirección por defecto -->
    <div class="flex items-center gap-3 mt-4">
      <input type="checkbox" formControlName="isDefault" />
      <label class="text-sm text-gray-700">Usar como dirección predeterminada</label>
    </div>

    <!-- Submit -->
    <button
      type="submit"
      [disabled]="!addressForm.valid"
      class="w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors"
    >
      {{ isEditMode ? 'Actualizar dirección' : 'Agregar dirección' }}
    </button>
  </form>
</div>
